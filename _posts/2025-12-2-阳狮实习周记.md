---
layout:     post   				    # 使用的布局（不需要改）
title:      阳狮实习周记 				# 标题 
subtitle:   学习使我快乐 #副标题
date:       2025-12-2 				# 时间
author:     Aragon 						# 作者
header-img: img/阳狮.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 实习
    - python
    - java
    - 爬虫
    - javascript
    - 计算机网络
---
## 前言
>写这篇文章的主要是想记录自己的实习生活，分享工作中学到的知识和项目，作为自己的第一次大厂实习（虽然不是IT类公司），实在想记录下来。

## 第一周
>本周的主要任务是适应公司给我提供的Linux主机，熟悉公司的业务流程，继承上一个实习生的项目然后进行优化。

### 基于Simplegmail库的简单邮件项目（可附件）
>技术栈：面向对象
该项目需要实现在Jenkins传入邮件的不同参数（即在Jenkins配置动态输入的邮件参数），除了能传输文本内容之外，还需要上传附件。
## 第二周
### 小红书列表数据油猴爬虫模块优化任务
- 任务：解决脚本问题
    - 问题分析：当脚本运行时，若用户鼠标不在目标页面（比如操作其他的窗口），即目标页面失去焦点的时候，脚本仍然会继续执行翻页操作，但期间不会抓取数据。
    - 目标：确保最终能够抓取到所有页面的完整数据，期间不关心用户在做什么，因此我有三个解决的方向，第一个方向：当目标页面失去焦点的时候，暂停脚本或者进入一个循环，直到焦点回归时再继续运行；第二个方向：当目标页面失去焦点的时候，记录脚本运行到的页数，然后放任其继续运行，焦点回归的时候返回所记录的页数抓取数据；第三个方向，即便目标页面失去焦点，也让脚本继续运行，这个方向效果最好，但最难实现。
    - 计划解决方案：
        - 1，了解如何获取鼠标的焦点
        - 2，决定焦点判定的位置 
        - 3，决定所选方向 
        - 4，尝试方向一
        - 5，尝试方向三
    - 获取鼠标焦点的逻辑 
        - 翻页模块handlePageSelect执行的时候，会调用焦点更新接口isMouseOnPage，而isMouseOnPage接口的具体实现为updateStatus 
        - 除了翻页模块，每0.1秒也会初始化一次所有的监听器，并调用updateStatus 
        - 初始化的逻辑
            - 分别针对标签、窗口增加监听器即document、window.addEventListener('事件',方法名)，事件分别有监听标签是否切换的'visibilitychange'、当前窗口是否激活的'foucus/blur'、缓存页面的激活/隐藏'pageshow/pagehide'、鼠标所在位置是否在页面内'mousemove'
        - 焦点更新updateStatus的条件：
            - 1，鼠标状态为聚焦newStatus的条件为 当前标签在前台isDocumentVisible, 当前浏览器窗口为激活is WindowFocused, 鼠标在浏览器区域内isMouseInView同时满足
            - 2，当状态发生变化的时候更新状态newStatus，然后经过焦点更新接口return给外部
- 截取网页API请求功能 
    - 本质：拦截浏览器发送的HTTP请求，在请求成功后获取返回的JSON数据。浏览器中发出请求通常使用XMLHttpRequest(XHR)，而脚本需要通过重写XHR的open方法给每个请求添加一个加载完成事件。
    - 网页分析获取需要的内容：根据业务需求，我所需要的数据位于一个包含api/solar/cooperator/blogger/v2的URL请求中，具体位置是data.kols的一个列表，其元素为字典
    - 代码：
        - 在Javascript中，XHR请求的对象为XMLHttpRequest，其open方法为XMLHttpRequest.prototype.open;
- @require： 引入jQuery库，用于简化网页操作

